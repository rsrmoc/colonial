<x-layout.colonial.layout>
<style>
.info-box .info-box-stats span.info-box-title {
    display: block;
    font-size: 15px;
    margin-bottom: 10px;
    color: #B0B0B0;
}
#chartDetalhe {
  width: 100%;
  height: 500px;
}

.amcharts-export-menu-top-right {
  top: 10px;
  right: 0;
}

#chart-1 {
  width: 100%; 
}
#chart-prev_realizado {
            width: 100%;
            height: 500px;
          }




          .topstats {
    background: #fff;
    padding: 0;
    color: #76747A;
    position: relative;
    font-size: 12px;
    border-radius: 3px;
    margin-left: -5px;
    margin-right: -5px;
    text-shadow: none;
    padding: 12px 0;
}
ul, ol {
    margin-top: 0;
    margin-bottom: 10px;
}
ul {
    display: block;
    list-style-type: disc; 
    margin-block-end: 1em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    padding-inline-start: 40px;
    unicode-bidi: isolate;
}

.topstats .arrow {
    position: absolute;
    width: 0;
    height: 0;
    top: -18px;
    right: 5px;
    border-style: solid;
    border-width: 0 10px 10px 10px;
    border-color: transparent transparent #fff transparent;
}

.topstats li {
    display: block;
    text-align: center;
    margin: 10px 0;
}
* {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
user agent stylesheet
li {
    display: list-item;
    text-align: -webkit-match-parent;
    unicode-bidi: isolate;
}
.topstats .title {
    color: #37363E;
    font-weight: 600;
    font-size: 13px;
}

* {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
.topstats li {
    display: block;
    text-align: center;
    margin: 10px 0;
}
user agent stylesheet
li {
    text-align: -webkit-match-parent;
}
.topstats {
    background: #fff;
    padding: 0;
    color: #76747A;
    position: relative;
    font-size: 12px;
    border-radius: 3px;
    margin-left: -5px;
    margin-right: -5px;
    text-shadow: none;
    padding: 12px 0;
}
user agent stylesheet
ul {
    list-style-type: disc;
}

.topstats h3 {
    font-size: 28px;
    font-weight: bold;
    font-family: 'Montserrat', sans-serif;
    letter-spacing: -1px;
    line-height: normal;
    margin: 1px 0;
}

h3, .h3 {
    font-size: 1.75em;
}
h1, .h1, h2, .h2, h3, .h3 {
    margin-top: 20px;
    margin-bottom: 10px;
    letter-spacing: -0.02em;
}
h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
    font-family: inherit;
    font-weight: 400;
    line-height: 1.6;
    color: #37363E;
}
h3, .h3 {
    font-size: 24px;
}
h1, .h1, h2, .h2, h3, .h3 {
    margin-top: 20px;
    margin-bottom: 10px;
}
h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
    font-family: inherit;
    font-weight: 500;
    line-height: 1.1;
    color: inherit;
}
* {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
user agent stylesheet
h3 {
    display: block;
    font-size: 1.17em;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    font-weight: bold;
    unicode-bidi: isolate;
}
.topstats li {
    display: block;
    text-align: center;
    margin: 10px 0;
}

user agent stylesheet
li {
    text-align: -webkit-match-parent;
}
.topstats {
    background: #fff;
    padding: 0;
    color: #76747A;
    position: relative;
    font-size: 12px;
    border-radius: 3px;
    margin-left: -5px;
    margin-right: -5px;
    text-shadow: none;
    padding: 12px 0;
}
user agent stylesheet
ul {
    list-style-type: disc;
}
.color-up {
    color: #26A65B;
}
.color-down {
    color: #EF4836;
}

.color-warning {
    color: #f0ad4e;
}
 
.color-agua {
    color: #399BFF;
}

.color-lenha {
    color: #c2a505;
}
.color-polpa {
    color: #e83e8c;
}
 
</style>


<style>
    @media (max-width: 575.98px) {
      .modal-fullscreen {
        padding: 0 !important;
      }
      .modal-fullscreen .modal-dialog {
        width: 100%;
        max-width: none;
        height: 100%;
        margin: 0;
      }
      .modal-fullscreen .modal-content {
        height: 100%;
        border: 0;
        border-radius: 0;
      }
      .modal-fullscreen .modal-body {
        overflow-y: auto;
      }
    }
    @media (max-width: 767.98px) {
      .modal-fullscreen-sm {
        padding: 0 !important;
      }
      .modal-fullscreen-sm .modal-dialog {
        width: 100%;
        max-width: none;
        height: 100%;
        margin: 0;
      }
      .modal-fullscreen-sm .modal-content {
        height: 100%;
        border: 0;
        border-radius: 0;
      }
      .modal-fullscreen-sm .modal-body {
        overflow-y: auto;
      }
    }
    @media (max-width: 991.98px) {
      .modal-fullscreen-md {
        padding: 0 !important;
      }
      .modal-fullscreen-md .modal-dialog {
        width: 100%;
        max-width: none;
        height: 100%;
        margin: 0;
      }
      .modal-fullscreen-md .modal-content {
        height: 100%;
        border: 0;
        border-radius: 0;
      }
      .modal-fullscreen-md .modal-body {
        overflow-y: auto;
      }
    }
    @media (max-width: 1199.98px) {
      .modal-fullscreen-lg {
        padding: 0 !important;
      }
      .modal-fullscreen-lg .modal-dialog {
        width: 100%;
        max-width: none;
        height: 100%;
        margin: 0;
      }
      .modal-fullscreen-lg .modal-content {
        height: 100%;
        border: 0;
        border-radius: 0;
      }
      .modal-fullscreen-lg .modal-body {
        overflow-y: auto;
      }
    }
    .modal-fullscreen-xl {
      padding: 0 !important;
    }
    .modal-fullscreen-xl .modal-dialog {
      width: 100%;
      max-width: none;
      height: 100%;
      margin: 0;
    }
    .modal-fullscreen-xl .modal-content {
      height: 100%;
      border: 0;
      border-radius: 0;
    }
    .modal-fullscreen-xl .modal-body {
      overflow-y: auto;
    }
     
  
    .container_modal {
        display: flex;
        margin: 10px;
        column-gap: 10px;
    }
        
    .scrollbar {
        height: 500px;
        width: 100%;
        overflow: auto;
        padding: 0 10px;
    }
    #scrollbar3::-webkit-scrollbar {
       width: 12px;
    }
        
    #scrollbar3::-webkit-scrollbar-track {
        background-color: #e7e7e7;
        border: 1px solid #cacaca;
    }
        
    #scrollbar3::-webkit-scrollbar-thumb {
        background-color: #0D8ECF;
    }

 

    .bg-info, .bg-info>a {
        color: #fff !important;
    }
    .bg-info {
        background-color: #17a2b8 !important;
    }
    .small-box {
        border-radius: .25rem;
        box-shadow: 0 0 1px rgba(0,0,0,.125), 0 1px 3px rgba(0,0,0,.2);
        display: block;
        margin-bottom: 20px;
        position: relative;
    }

    .small-box>.inner {
        padding: 7px;
    }

    .small-box .icon {
        color: rgba(0, 0, 0, .15);
        z-index: 0;
    }

 

    .small-box .icon>i {
        font-size: 80px;
        position: absolute;
        right: 15px;
        top: 15px;
        transition: -webkit-transform .3s linear;
        transition: transform .3s linear;
        transition: transform .3s linear, -webkit-transform .3s linear;
    }

    .icon{
        display: inline-block;
        font-family: "Ionicons";
        speak: none;
        font-style: normal;
        font-weight: normal;
        font-variant: normal;
        text-transform: none;
        text-rendering: auto;
        line-height: 1;
        -webkit-font-smoothing: antialiased;
    }
    .small-box>.small-box-footer {
        background-color: rgba(0, 0, 0, .1);
        color: rgba(255, 255, 255, .8);
        display: block;
        padding: 3px 0;
        position: relative;
        text-align: center;
        text-decoration: none;
        z-index: 10;
    }
     .small-box h3 {
        font-size: 3.2rem;
        font-weight: 700;
    }
    .info-box{
        cursor: pointer
    }
    .info-box .info-box-stats p {
        font-size: 20px;
        font-weight: 400;
        margin-bottom: 10px;
        color: #484f5e; 
    }
    .panel .panel-body { 
        padding: 10px; 
    }
    .headerUnidade{
        font-size: 15px;
    }
</style>

    <div id="main-wrapper" x-data="app">
        
        <script src="{{ asset('assets/grafico/amcharts/amcharts.js') }}"></script>
        <script src="{{ asset('assets/grafico/amcharts/serial.js') }}"></script>
        <script src="{{ asset('assets/grafico/amcharts/export.min.js') }}"></script>
        <link rel="stylesheet" href="{{ asset('assets/grafico/amcharts/export.css') }} type="text/css" media="all" />
 
        
              
        <div class="row">
            <div class="col-lg-2 col-md-4">
                <div class="panel info-box panel-white"  >
                    <div class="panel-body" style="border-bottom: 3px solid #399BFF;">
                        <div class="info-box-stats">
                            <p class="counter" x-html="iconHeaderAgua"></p>
                            <span class="info-box-title" style="color: #399BFF;">Agua</span>
                        </div>
                        <div class="info-box-icon ">
                            <i class="fa fa-tint " style="color: #399BFF;"></i>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="panel info-box panel-white">
                    <div class="panel-body" style="border-bottom: 3px solid #c2a505;">
                        <div class="info-box-stats">
                            <p class="counter" x-html="iconHeaderEnergia"></p>
                            <span class="info-box-title" style="color: #c2a505;">Energia</span>
                        </div>
                        <div class="info-box-icon">
                            <i class="fa fa-bolt" style="color: #c2a505;"></i>
                        </div>
                      
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="panel info-box panel-white">
                    <div class="panel-body" style="border-bottom: 3px solid #26A65B;">
                        <div class="info-box-stats">
                            <p class="counter" x-html="iconHeaderLenha"></p>
                            <span class="info-box-title" style="color: #26A65B;">Lenha</span>
                        </div>
                        <div class="info-box-icon">
                            <i class="glyphicon glyphicon-tree-deciduous" style="color: #26A65B;" aria-hidden="true"></i>
                        </div>
                         
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="panel info-box panel-white">
                    <div class="panel-body" style="border-bottom: 3px solid #EF4836;">
                        <div class="info-box-stats">
                            <p class="counter" x-html="iconHeaderPerdas"></p>
                            <span class="info-box-title" style="color: #EF4836;">Perdas</span>
                        </div>
                        <div class="info-box-icon">
                            <i class="fa fa-exclamation-triangle" style="color: #EF4836;"></i>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="panel info-box panel-white">
                    <div class="panel-body" style="border-bottom: 3px solid #37363E;">
                        <div class="info-box-stats">
                            <p class="counter" x-html="iconHeaderParadas"></p>
                            <span class="info-box-title" style="color: #37363E;" >Paradas</span>
                        </div>
                        <div class="info-box-icon">
                            <i class="fa fa-stop" style="color: #37363E;"></i>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="panel info-box panel-white">
                    <div class="panel-body" style="border-bottom: 3px solid #e83e8c;">
                        <div class="info-box-stats">
                            <p class="counter" x-html="iconHeaderPolpas"></p>
                            <span class="info-box-title" style="color: #e83e8c">Polpas</span>
                        </div>
                        <div class="info-box-icon"> 
                            <i class="fa fa-apple"  style="color: #e83e8c"></i>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!--
        <div class="row">


            <div class="col-md-12">
                <ul class="topstats clearfix">
                  <li class="arrow"></li>
                  <li class="col-xs-6 col-lg-2">
                    <span class="title"><i class="fa fa-tint"></i> Agua</span>
                    <h3 class="color-agua">- -</h3>
                    <span class="diff"><b class="color-agua"><i class="fa fa-caret-down"></i> 26%</b> from yesterday</span>
                  </li>
                  <li class="col-xs-6 col-lg-2">
                    <span class="title"><i class="fa fa-bolt"></i> Energia</span>
                    <h3 class="color-up">- -</h3>
                    <span class="diff"><b class="color-up"><i class="fa fa-caret-up"></i> 26%</b> from last week</span>
                  </li>
                  <li class="col-xs-6 col-lg-2">
                    <span class="title"><span class="glyphicon glyphicon-tree-deciduous" aria-hidden="true"></span>Lenha</span>
                    <h3 class="color-lenha ">- -</h3>
                    <span class="diff"><b class="color-lenha"><i class="fa fa-caret-up"></i> 26%</b> from last month</span>
                  </li>
                  <li class="col-xs-6 col-lg-2">
                    <span class="title"><i class="fa fa-stop"></i> Paradas</span>
                    <h3 class="color-warning">- -</h3>
                    <span class="diff"><b class="color-warning"><i class="fa fa-caret-down"></i> 26%</b> from yesterday</span>
                  </li>
                  <li class="col-xs-6 col-lg-2">
                    <span class="title"><i class="fa fa-exclamation-triangle"></i> Perdas</span>
                    <h3 class="color-down">- -</h3>
                    <span class="diff"><b class="color-down"><i class="fa fa-caret-down"></i> 26%</b> from yesterday</span>
                  </li>
                  <li class="col-xs-6 col-lg-2">
                    <span class="title"><i class="fa fa-apple"></i> Polpas</span>
                    <h3 class="color-polpa">- -<small></small></h3>
                    <span class="diff"><b class="color-polpa"><i class="fa fa-caret-up"></i> 26%</b> from last week</span>
                  </li>
                </ul>
            </div>
     
        </div>
        -->
        {{-- <div style="text-align: center; padding: 100px;">

            <img src="{{ asset('assets/images/logo_emp_preto.jpeg') }}">

        </div> --}}

        <div class="panel">
            <div class="panel-body">
                <div class="row" style="margin-bottom: 24px">

                    <div class="col-md-12">
                        <template x-if="loadingCharts">
                            <x-loader class="absolute-loader"/>
                        </template>
                        <div class="row">
                            <div class="col-md-2"></div>
                            <div class="col-md-8"><h3 class="panel-title text-center" style="color: #0e0e0e;">Ordem de Produção</h3></div>
                            <div class="col-md-2" style="text-align: right">
                                <img src="{{ asset('assets/images/xlsx.png') }}" height="24">
                                <img src="{{ asset('assets/images/filtro.png') }}" data-toggle="modal" data-target="#modalParametrizacao" height="24" style="margin-left: 10px; cursor: pointer;">
                            </div> 
                        <div id="chart-prev_realizado"></div>
                    </div>

                    <div class="modal fade" id="modalParametrizacao" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                    <h4 class="modal-title" id="myModalLabel">Parametros de Pesquisa</h4>
                                </div>
                                <div class="modal-body">
                                    <form id="formParametros" method="post"> 
                                    <div class="row">
                                        <div class="col-md-4 col-md-offset-2 ">
                                            <div class="form-group ">
                                                <label for="fname">Data Inicial: <span class="red normal">*</span></label>
                                                <input type="date" class="form-control" x-model="parametros.dti" placeholder="Data Inicial" value="{{ $request['dti'] }}" name="dti" required /> 
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group ">
                                                <label for="fname">Data Final: <span class="red normal">*</span></label>
                                                <input type="date" class="form-control" x-model="parametros.dtf" placeholder="Data Inicial"   name="dtf" required /> 
                                            </div>
                                        </div> 
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 col-md-offset-2 ">
                                            <div class="form-group  ">
                                                <label for="fname">Agrupamento: <span class="red normal">*</span></label><br>
                                                <select class="form-control" name="agrupamento" id="agrupamento" style="width: 100%;" > 
                                                    <option value="D">DIÁRIO</option> 
                                                    <option value="M">MENSAL</option> 
                                                </select>
                                                @if($errors->has('ordem'))
                                                    <div class="error">{{ $errors->first('ordem') }}</div>
                                                @endif
                                            </div>
                                        </div>
                                        <div class="col-md-4 ">
                                            <div class="form-group  ">
                                                <label for="fname">Unidade Medida: <span class="red normal">*</span></label><br>
                                                <select class="form-control" name="unidade" id="unidade" style="width: 100%;" > 
                                                    <option value="KG">KILO</option> 
                                                    <option value="CX">CAIXA</option> 
                                                </select>
                                                @if($errors->has('ordem'))
                                                    <div class="error">{{ $errors->first('ordem') }}</div>
                                                @endif
                                            </div>
                                        </div>
                                    </div>
                                    </form>
                                </div>
                                <div class="modal-footer"> 
                                    <button type="button" x-on:click="getDataChart1" data-dismiss="modal" class="btn btn-danger">
                                        <i class="fa fa-search"></i> Pesquisar </button>
                                </div>
                            </div>
                        </div>
                    </div>
 
                    <div class="modal fade bs-example-modal-lg modal-fullscreen-xl" id="modalDetalhes" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                    <h4 class="modal-title" id="myLargeModalLabel" style="line-height: 1.02857143; font-size: 1.5em;font-weight: 300;" x-html="tituloDetalhes"></h4>
                                </div>
                                <div class="modal-body">

                                    <template x-if="modalLoadingCharts">
                                        <x-loader class="absolute-loader"/> 
                                    </template>

                                    <div role="tabpanel"> 
                                            <!-- Nav tabs -->
                                            <ul class="nav nav-tabs nav-justified" role="tablist"> 
                                                <li role="presentation" class="active"><a href="#tabGrafico" role="tab" data-toggle="tab" aria-expanded="true">Grafico</a></li>
                                                <li role="presentation"><a href="#tabRelacao" role="tab" data-toggle="tab">Relação</a></li>
                                            </ul> 
                                        <!-- Tab panes -->
                                        <div class="tab-content">
                                               
                                            <div role="tabpanel" class="tab-pane  active fade in"  id="tabGrafico">
                                                    <template x-if="modalLoadingCharts">
                                                        <x-loader class="absolute-loader"/> 
                                                    </template>
                                                    <!-- HTML --> 
                                                     
                                                    <div id="chartDetalhe"></div>	 
                                                   
                                            </div> 

                                            <div role="tabpanel" class="tab-pane fade"   id="tabRelacao">
                                                <template x-if="modalLoadingCharts">
                                                    <x-loader class="absolute-loader"/> 
                                                </template>
                                                <div class="container_modal">
                                                    <div class="scrollbar" id="scrollbar3">

                                                        <table class="table table-striped" style="margin-bottom: 0">
                                                            <thead>
                                                                <tr class="active">
                                                                    <th>Ordem de Produção</th>
                                                                    <th >Data</th>
                                                                    <th >Produto</th>
                                                                    <th class="text-right">Kg/Cx</th>
                                                                    <th class="text-right">Planejado [CX]</th>
                                                                    <th class="text-right">Produzido [CX]</th>
                                                                    <th class="text-right">Planejado [KG]</th>   
                                                                    <th class="text-right">Produzido [KG]</th>   
                                                                </tr>
                                                            </thead> 
                                                            <tbody>
                                                                <template x-for="query in relacaoDetelhes">
                                                                    <tr>
                                                                        <td x-text="query.codigo"></td>
                                                                        <td x-text="query.data"></td>
                                                                        <td x-text="query.ItemCode+' - '+query.ItemName"></td>
                                                                        <td class="text-right" x-text="(query.kg*1).toLocaleString('pt-br', {minimumFractionDigits: 2})"></td>
                                                                        <td class="text-right" x-text="(query.valor*1).toLocaleString('pt-br', {minimumFractionDigits: 2})"></td>
                                                                        <td class="text-right" x-text="(query.valor_prod*1).toLocaleString('pt-br', {minimumFractionDigits: 2})"></td>
                                                                        <td class="text-right" x-text="(query.valor*query.kg).toLocaleString('pt-br', {minimumFractionDigits: 2})"></td>
                                                                        <td class="text-right" x-text="(query.valor_prod*query.kg).toLocaleString('pt-br', {minimumFractionDigits: 2})"></td>
                                                                    </tr>
                                                                </template>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>

                                             
                                                <template x-if="!relacaoDetelhes">
                                                    <p class="text-center" style="padding: 1.2em">Nenhum Consumo Cadastrado</p>
                                                </template>
                                            
                                            </div> 
                                        </div>
                                    </div>




	 
                                         
                                </div>
                                <div class="modal-footer"> 
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

               
            </div>
        </div>
    </div>
 
    <x-slot name="scripts"> 
        <script src="{{ asset('js/paginas/previsto_realizado.js') }}"></script>
    </x-slot>
</x-layout.colonial.layout>
